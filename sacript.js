// Language translations
const translations = {
id: {
// Navigation
nav_home: "Beranda",
nav_about: "Tentang",
nav_services: "Layanan",
nav_contact: "Kontak",

// Language
lang_id: "Bahasa Indonesia",
lang_en: "English",

// Hero
hero_title: "Partner Terpercaya Layanan Kesehatan Inovatif & Akurat",
hero_subtitle: "HELIX Klinik & Laboratorium menyediakan layanan medis berkualitas tinggi dengan staf profesional dan teknologi canggih.",
hero_btn_book: "Booking Pemeriksaan",
hero_btn_services: "Lihat Layanan",

// Stats
stat_experience: "Tahun Pengalaman",
stat_customers: "Pelanggan Dilayani",
stat_locations: "Lokasi",
stat_rating: "Peringkat Layanan",

// About
about_title: "Tentang Kami",
about_description: "HELIX Klinik & Laboratorium adalah mitra terpercaya dalam layanan kesehatan yang inovatif dan akurat. Kami berkomitmen untuk memberikan pelayanan terbaik dengan dukungan teknologi modern dan tenaga medis profesional.",
vision_title: "Visi",
vision_description: "Menjadi penyedia layanan kesehatan terdepan yang terpercaya dengan dukungan teknologi modern.",
mission_title: "Misi",
mission_description: "Memberikan layanan diagnostik yang cepat, akurat, dan inovatif untuk meningkatkan kepuasan pasien.",

// Services
services_title: "Layanan Kami",
service_mcu_title: "Medical Check Up (MCU)",
service_mcu_description: "Pemeriksaan kesehatan lengkap untuk karyawan dengan berbagai paket sesuai kebutuhan perusahaan. Dilengkapi dengan Smart MCU Report untuk analisa yang komprehensif.",
service_mcu_btn: "Pesan Sekarang",
service_inhouse_title: "Klinik Inhouse",
service_inhouse_description: "Layanan klinik perusahaan terpadu dengan tenaga medis profesional dan peralatan lengkap. Kami mengelola klinik perusahaan Anda dari perencanaan hingga monitoring.",
service_inhouse_btn: "Konsultasi Gratis",
service_genomic_title: "Tes Genomik",
service_genomic_description: "Genetic screening yang dapat memberikan informasi tentang profil genetik personal untuk mendukung produktivitas dan kesehatan jangka panjang karyawan.",
service_genomic_btn: "Pelajari Lebih Lanjut",
service_nutrition_title: "Nutrisi & Makanan Sehat",
service_nutrition_description: "Layanan nutrigenomic test, konsultasi gizi, dan penyediaan makanan sehat untuk mendukung produktivitas dan kesehatan karyawan perusahaan.",
service_nutrition_btn: "Daftar Sekarang",

// Comparison Table
comparison_title: "Perbandingan Layanan Korporat",
comparison_feature: "Fitur",
comparison_mcu: "MCU",
comparison_inhouse: "Klinik Inhouse",
comparison_genomic: "Tes Genomik",
comparison_nutrition: "Nutrisi",
feature_onsite: "Layanan On-site",
feature_digital_report: "Laporan Digital",
feature_doctor_consult: "Konsultasi Dokter",
feature_health_session: "Sesi Kesehatan",
feature_personalized: "Program Personalized",
legend_available: "Tersedia",
legend_limited: "Terbatas",
legend_unavailable: "Tidak Tersedia",

// Why Choose Us
why_title: "Mengapa Memilih Layanan Kami?",
why_comprehensive: "Layanan Komprehensif",
why_comprehensive_desc: "Solusi kesehatan terpadu",
why_professional: "Staf Profesional",
why_professional_desc: "Tim medis berpengalaman",
why_productivity: "Tingkatkan Produktivitas",
why_productivity_desc: "Karyawan sehat, kinerja optimal",
why_technology: "Teknologi Canggih",
why_technology_desc: "Sistem digital & laporan real-time",

// Testimonials
testimonials_title: "Apa Kata Mereka",

// Contact
contact_title: "Kontak Kami",
contact_form_title: "Konsultasi Layanan",
contact_info_title: "Informasi Kontak",
contact_address: "Alamat",
contact_phone: "Telepon",
contact_whatsapp: "WhatsApp",
contact_hours: "Jam Operasional",

// Map
map_title: "Lokasi Kami",
map_directions: "Petunjuk Arah",
map_view_large: "Lihat Peta Lebih Besar",

// Form
form_name: "Nama Lengkap",
form_email: "Email",
form_phone: "Nomor Telepon",
form_message: "Pesan",
form_submit: "Kirim Pesan",
form_sending: "Mengirim...",
form_error: "Terjadi kesalahan. Silakan coba lagi.",

// Footer
footer_description: "Menyediakan layanan kesehatan berkualitas dengan teknologi canggih dan staf profesional.",
footer_services_title: "Layanan Korporat",
footer_services_mcu: "Medical Check Up (MCU)",
footer_services_inhouse: "Klinik Inhouse",
footer_services_consultation: "Konsultasi",
footer_info_title: "Informasi",
footer_info_about: "Tentang Kami",
footer_info_career: "Karir",
footer_info_blog: "Blog",
footer_info_faq: "FAQ",
footer_contact_title: "Kontak",
footer_contact_address: "Gd. Graha Anam, Jl. Teuku Cik Ditiro 1 No.11 Lt. 2, Menteng, Jakarta Pusat",
footer_copyright: "&copy; 2025 HELIX × Diagnos — Semua hak cipta dilindungi.",

// Notifications
notification_lang_changed: "Bahasa telah diubah ke",
notification_form_success: "Pesan Terkirim!",
notification_form_success_detail: "Terima kasih, {name}. Permintaan konsultasi untuk layanan \"{service}\" Anda telah diterima."
},
en: {
// Navigation
nav_home: "Home",
nav_about: "About",
nav_services: "Services",
nav_contact: "Contact",

// Language
lang_id: "Bahasa Indonesia",
lang_en: "English",

// Hero
hero_title: "Trusted Partner for Innovative & Accurate Healthcare Services",
hero_subtitle: "HELIX Clinic & Laboratory provides high-quality medical services with professional staff and advanced technology.",
hero_btn_book: "Book Examination",
hero_btn_services: "View Services",

// Stats
stat_experience: "Years of Experience",
stat_customers: "Customers Served",
stat_locations: "Locations",
stat_rating: "Service Rating",

// About
about_title: "About Us",
about_description: "HELIX Clinic & Laboratory is a trusted partner in innovative and accurate healthcare services. We are committed to providing the best service with the support of modern technology and professional medical staff.",
vision_title: "Vision",
vision_description: "To become a leading and trusted healthcare provider with the support of modern technology.",
mission_title: "Mission",
mission_description: "To provide fast, accurate, and innovative diagnostic services to improve patient satisfaction.",

// Services
services_title: "Our Services",
service_mcu_title: "Medical Check Up (MCU)",
service_mcu_description: "Comprehensive health check for employees with various packages according to company needs. Equipped with Smart MCU Report for comprehensive analysis.",
service_mcu_btn: "Book Now",
service_inhouse_title: "In-house Clinic",
service_inhouse_description: "Integrated corporate clinic services with professional medical staff and complete equipment. We manage your company clinic from planning to monitoring.",
service_inhouse_btn: "Free Consultation",
service_genomic_title: "Genomic Testing",
service_genomic_description: "Genetic screening that can provide information about personal genetic profiles to support employee productivity and long-term health.",
service_genomic_btn: "Learn More",
service_nutrition_title: "Nutrition & Healthy Food",
service_nutrition_description: "Nutrigenomic test services, nutrition consultation, and healthy food provision to support productivity and health of company employees.",
service_nutrition_btn: "Register Now",

// Comparison Table
comparison_title: "Corporate Service Comparison",
comparison_feature: "Feature",
comparison_mcu: "MCU",
comparison_inhouse: "In-house Clinic",
comparison_genomic: "Genomic Testing",
comparison_nutrition: "Nutrition",
feature_onsite: "On-site Service",
feature_digital_report: "Digital Report",
feature_doctor_consult: "Doctor Consultation",
feature_health_session: "Health Session",
feature_personalized: "Personalized Program",
legend_available: "Available",
legend_limited: "Limited",
legend_unavailable: "Not Available",

// Why Choose Us
why_title: "Why Choose Our Services?",
why_comprehensive: "Comprehensive Services",
why_comprehensive_desc: "Integrated health solutions",
why_professional: "Professional Staff",
why_professional_desc: "Experienced medical team",
why_productivity: "Increase Productivity",
why_productivity_desc: "Healthy employees, optimal performance",
why_technology: "Advanced Technology",
why_technology_desc: "Digital system & real-time reports",

// Testimonials
testimonials_title: "What They Say",

// Contact
contact_title: "Contact Us",
contact_form_title: "Service Consultation",
contact_info_title: "Contact Information",
contact_address: "Address",
contact_phone: "Phone",
contact_whatsapp: "WhatsApp",
contact_hours: "Operating Hours",

// Map
map_title: "Our Location",
map_directions: "Directions",
map_view_large: "View Larger Map",

// Form
form_name: "Full Name",
form_email: "Email",
form_phone: "Phone Number",
form_message: "Message",
form_submit: "Send Message",
form_sending: "Sending...",
form_error: "An error occurred. Please try again.",

// Footer
footer_description: "Providing quality healthcare services with advanced technology and professional staff.",
footer_services_title: "Corporate Services",
footer_services_mcu: "Medical Check Up (MCU)",
footer_services_inhouse: "In-house Clinic",
footer_services_consultation: "Consultation",
footer_info_title: "Information",
footer_info_about: "About Us",
footer_info_career: "Career",
footer_info_blog: "Blog",
footer_info_faq: "FAQ",
footer_contact_title: "Contact",
footer_contact_address: "Graha Anam Building, Jl. Teuku Cik Ditiro 1 No.11 2nd Floor, Menteng, Central Jakarta",
footer_copyright: "&copy; 2025 HELIX × Diagnos — All rights reserved.",

// Notifications
notification_lang_changed: "Language has been changed to",
notification_form_success: "Message Sent!",
notification_form_success_detail: "Thank you, {name}. Your consultation request for \"{service}\" service has been received."
}
};

// Track current language
let currentLang = 'id';

// Function to validate form
function validateForm() {
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const phone = document.getElementById('phone').value;
    
    if (!name || !email || !phone) {
        showNotification(currentLang === 'id' 
            ? 'Harap isi semua field yang wajib diisi' 
            : 'Please fill in all required fields');
        return false;
    }
    
    // Simple email validation
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
        showNotification(currentLang === 'id' 
            ? 'Harap masukkan alamat email yang valid' 
            : 'Please enter a valid email address');
        return false;
    }
    
    return true;
}

// Function to submit form
function submitForm(event) {
    event.preventDefault();
    
    // Validate form
    if (!validateForm()) {
        return;
    }
    
    // Get form values
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const phone = document.getElementById('phone').value;
    
    // Create email subject
    const subject = `Konsultasi dari ${name}`;
    
    // Create email body with only the required information
    const body = 
        `Nama Lengkap: ${name}\n` +
        `Email: ${email}\n` +
        `Nomor Telepon: ${phone}`;
    
    // Open mail client directly
    const mailtoLink = `mailto:info@helixlab.co.id?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
    
    // Create and click a temporary link element
    const link = document.createElement('a');
    link.href = mailtoLink;
    link.target = '_blank';
    link.rel = 'noopener noreferrer';
    
    // Add the link to the body
    document.body.appendChild(link);
    
    // Click the link
    link.click();
    
    // Remove the link after a short delay
    setTimeout(() => {
        document.body.removeChild(link);
        
        // Show notification
        showNotification(currentLang === 'id' 
            ? 'Email client telah terbuka. Silakan kirim pesan Anda.' 
            : 'Email client has opened. Please send your message.');
    }, 100);
}

// Function to show notification
function showNotification(message, isError = false) {
    const notification = document.getElementById('notification');
    notification.textContent = message;
    notification.className = 'notification show';
    
    if (isError) {
        notification.classList.add('error');
    }
    
    setTimeout(() => {
        notification.classList.remove('show');
    }, 3000);
}

// Language dropdown functionality
document.getElementById('lang-btn').addEventListener('click', function() {
    this.classList.toggle('active');
    document.getElementById('lang-menu').classList.toggle('active');
});

// Language selection
document.querySelectorAll('.lang-option').forEach(option => {
    option.addEventListener('click', function(e) {
        e.preventDefault();
        const lang = this.getAttribute('data-lang');
        currentLang = lang; // Update current language
        
        // Update language display
        document.getElementById('current-lang').textContent = lang.toUpperCase();
        
        // Update active class
        document.querySelectorAll('.lang-option').forEach(opt => {
            opt.classList.remove('active');
        });
        this.classList.add('active');
        
        // Close dropdown
        document.getElementById('lang-menu').classList.remove('active');
        document.getElementById('lang-btn').classList.remove('active');
        
        // Show notification
        showNotification(
            currentLang === 'id' 
                ? `Bahasa telah diubah ke Bahasa Indonesia` 
                : `Language has been changed to English`
        );
    });
});

// Mobile menu toggle
document.getElementById('mobile-menu-btn').addEventListener('click', function() {
    this.classList.toggle('active');
    document.getElementById('main-nav').classList.toggle('active');
});

// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();
        
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            window.scrollTo({
                top: target.offsetTop - 80,
                behavior: 'smooth'
            });
            
            // Close mobile menu if open
            if (document.getElementById('main-nav').classList.contains('active')) {
                document.getElementById('mobile-menu-btn').classList.remove('active');
                document.getElementById('main-nav').classList.remove('active');
            }
        }
    });
});

// Close dropdowns when clicking outside
document.addEventListener('click', function(event) {
    // Language dropdown
    const langDropdown = document.querySelector('.lang-dropdown');
    if (!langDropdown.contains(event.target)) {
        document.getElementById('lang-menu').classList.remove('active');
        document.getElementById('lang-btn').classList.remove('active');
    }
});

// Form placeholders translation
function updateFormPlaceholders() {
    const placeholders = {
        'form_name': currentLang === 'id' ? 'Nama Lengkap' : 'Full Name',
        'form_email': currentLang === 'id' ? 'Email' : 'Email',
        'form_phone': currentLang === 'id' ? 'Nomor Telepon' : 'Phone Number',
        'form_message': currentLang === 'id' ? 'Pesan' : 'Message'
    };
    
    document.querySelectorAll('[data-placeholder]').forEach(element => {
        const key = element.getAttribute('data-placeholder');
        if (placeholders[key]) {
            element.placeholder = placeholders[key];
        }
    });
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    updateFormPlaceholders();
    
    // Set active nav link on scroll
    const sections = document.querySelectorAll('section');
    const navLinks = document.querySelectorAll('#main-nav a');
    
    window.addEventListener('scroll', function() {
        let current = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (scrollY >= (sectionTop - 200)) {
                current = section.getAttribute('id');
            }
        });
        
        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href').slice(1) === current) {
                link.classList.add('active');
            }
        });
    });
});